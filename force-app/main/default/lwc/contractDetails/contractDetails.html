<template>
    <div class="slds-card">
        <div class="slds-card__header slds-grid slds-grid_align-spread slds-p-bottom_medium slds-theme_shade">
            <h2 class="slds-text-heading_medium slds-truncate">Contract Details</h2>
        </div>
        <template if:false={hasError}>
        <template if:true={contractDetailsPresent}>
            <div class="slds-card__body slds-card__body_inner">
                <div class="slds-grid slds-grid_vertical slds-gutters_x-small">
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-grid slds-grid_vertical-align-center">
                                <div class="slds-col">
                                    <div class="slds-media">
                                        <div class="slds-media__figure">
                                            <span class="slds-icon_container slds-icon-standard-stage">
                                                <lightning-icon icon-name="standard:task"
                                                    size="x-small"></lightning-icon>
                                            </span>
                                        </div>
                                        <div class="slds-media__body">
                                            <h2
                                                class="slds-text-heading_small slds-text-color_success slds-p-bottom_xx-small">
                                                Status:</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-col">
                                    <div class="slds-text-body_regular">{status}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-grid slds-grid_vertical-align-center">
                                <div class="slds-col">
                                    <div class="slds-media">
                                        <div class="slds-media__figure">
                                            <span class="slds-icon_container slds-icon-standard-stage">
                                                <lightning-icon icon-name="standard:stage"
                                                    size="x-small"></lightning-icon>
                                            </span>
                                        </div>
                                        <div class="slds-media__body">
                                            <h2
                                                class="slds-text-heading_small slds-text-color_success slds-p-bottom_xx-small">
                                                Stage:</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-col">
                                    <div class="slds-text-body_regular">{stage}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-grid slds-wrap">
                        <div class="slds-col slds-size_1-of-2">
                            <div class="slds-grid slds-grid_vertical-align-center">
                                <div class="slds-col">
                                    <div class="slds-media">
                                        <div class="slds-media__figure">
                                            <span class="slds-icon_container slds-icon-standard-priority">
                                                <lightning-icon icon-name="standard:priority"
                                                    size="x-small"></lightning-icon>
                                            </span>
                                        </div>
                                        <div class="slds-media__body">
                                            <h2
                                                class="slds-text-heading_small slds-text-color_success slds-p-bottom_xx-small">
                                                Priority:</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="slds-col">
                                    <div class="slds-text-body_regular">{priority}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="slds-col slds-p-bottom_medium">
                        <div class="slds-tile slds-tile_board">
                            <div
                                class="slds-tile__title slds-text-heading_small slds-text-color_success slds-p-around_x-small slds-m-bottom_xx-small slds-tile_board__header">
                                <span class="slds-icon_container slds-icon-standard-people">
                                    <!-- <lightning-icon icon-name="standard:people" size="x-small"></lightning-icon> -->
                                </span>
                                Approvers
                            </div>
                            <div class="slds-tile__detail slds-text-body_regular">
                                <template for:each={approvers} for:item="lvl">
                                    <div key={lvl.approverLevel} class="slds-p-bottom_small">
                                        <p
                                            class="slds-text-heading_small slds-text-color_success slds-p-around_x-small slds-m-bottom_xx-small slds-tile_board__header">
                                            <span class="slds-icon_container slds-icon-utility-level-up">
                                                <lightning-icon icon-name="utility:level-up"
                                                    size="x-small"></lightning-icon>
                                            </span>
                                            Approver Level {lvl.approverLevel}
                                        </p>
                                        <template for:each={lvl.fullNames} for:item="name">
                                            <p key={name} class="slds-text-body_regular slds-m-bottom_xx-small">
                                                <span class="slds-icon_container slds-icon-standard-user">
                                                    <lightning-icon icon-name="standard:user"
                                                        size="x-small"></lightning-icon>
                                                </span>
                                                {name}
                                            </p>
                                        </template>
                                    </div>
                                </template>
                            </div>
                            <div
                                class="slds-tile__title slds-text-heading_small slds-text-color_success slds-p-around_x-small slds-m-bottom_xx-small slds-tile_board__header">
                                <span class="slds-icon_container slds-icon-standard-user">
                                    <!-- <lightning-icon icon-name="standard:user" size="x-small"></lightning-icon> -->
                                </span>
                                Internal Signatories
                            </div>
                            <div class="slds-tile__detail slds-text-body_regular">
                                <template for:each={internalSignatories} for:item="lvl">
                                    <div key={lvl.signerLevel} class="slds-p-bottom_small">
                                        <p
                                            class="slds-text-heading_small slds-text-color_success slds-p-around_x-small slds-m-bottom_xx-small slds-tile_board__header">
                                            <span class="slds-icon_container slds-icon-utility-level-up">
                                                <lightning-icon icon-name="utility:level-up"
                                                    size="x-small"></lightning-icon>
                                            </span>
                                            Signer Level {lvl.signerLevel}
                                        </p>
                                        <template for:each={lvl.fullNames} for:item="name">
                                            <p key={name} class="slds-text-body_regular slds-m-bottom_xx-small">
                                                <span class="slds-icon_container slds-icon-standard-user">
                                                    <lightning-icon icon-name="standard:user"
                                                        size="x-small"></lightning-icon>
                                                </span>
                                                {name}
                                            </p>
                                        </template>
                                    </div>
                                </template>
                            </div>
                            <div
                                class="slds-tile__title slds-text-heading_small slds-text-color_success slds-p-around_x-small slds-m-bottom_xx-small slds-tile_board__header">
                                <span class="slds-icon_container slds-icon-standard-user">
                                    <lightning-icon icon-name="standard:user" size="x-small"></lightning-icon>
                                </span>
                                Internal Participants
                            </div>
                            <div class="slds-tile__detail slds-text-body_regular">
                                <template for:each={participants} for:item="name">
                                    <p key={name} class="slds-text-body_regular slds-m-bottom_xx-small">
                                        <span class="slds-icon_container slds-icon-standard-user">
                                            <lightning-icon icon-name="standard:user" size="x-small"></lightning-icon>
                                        </span>
                                        {name}
                                    </p>
                                </template>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </template>
        </template>

        <!-- Display error message if fetchTemplateError is true -->
        <template if:true={hasError}>
            <p class="error-message">Some error occured !!!</p>
        </template>
    </div>
</template>