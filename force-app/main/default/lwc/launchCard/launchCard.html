<template>
    <lightning-card>
        <div class="header-container">
            <img src={companyLogoUrl} alt="Company Logo" class="company-logo">
            <span class="card-title">Intellosync Workflow</span>
        </div>
        <div class="slds-m-around_medium">
            <!-- Display error message if authError is true -->
            <template if:true={authError}>
            <p class="error-message">Authorization error</p>
            </template>

            <!-- Display error message if fetchTemplateError is true -->
            <template if:true={fetchTemplateError}>
                <p class="error-message">Failed to fetch configured template</p>
            </template> 

            <!-- Combobox and button for template selection -->
            <template if:false={hasError}>
                <lightning-combobox name="templateSelection" label="Select Template" value={selectedTemplate}
                    options={options} onchange={handleTemplateSelection} class="slds-m-bottom_medium">
                </lightning-combobox>
                <lightning-button label="Launch Workflow" onclick={handleLaunchPage} class="slds-m-top_medium"
                    disabled={disableLaunchButton}>
                </lightning-button>
            </template>
        </div>
    </lightning-card>

    <template if:true={isModalOpen}>
        <c-launch-page-modal></c-launch-page-modal>
    </template>

    <p>Selected template is {selectedTemplate}</p>
</template>