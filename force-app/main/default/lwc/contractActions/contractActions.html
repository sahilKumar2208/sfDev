<template>
  <div class="slds-card">
    <div
      class="slds-card__header slds-grid slds-grid_align-spread slds-p-bottom_medium slds-theme_shade"
    >
      <div
        class="slds-grid slds-grid_align-center slds-grid_vertical-align-center"
      >
        <img
          src="/resource/1715869170000/company_logo"
          alt="Company Logo"
          height="20px"
          width="50px"
        />
        <h2 class="slds-text-heading_medium slds-truncate slds-m-left_xx-small">
          Contract Actions
        </h2>
      </div>
    </div>

    <!-- Show loading screen when is loading is true -->
    <template if:true={isLoading}>
      <div class="loading-spinner">
        <lightning-spinner
          size="medium"
          alternative-text="Loading"
        ></lightning-spinner>
        <div class="message">Loading...</div>
      </div>
    </template>

    <!-- <template if:false={hasError}> -->
    <template if:true={contractDetailsPresent}>
      <div class="slds-card__body slds-card__body_inner">
        <!-- Conditionally render the button based on the value of showApproveUI -->
        <template if:true={showApproveUI}>
          <div class="slds-grid slds-grid_align-spread slds-m-bottom_medium">
            <div class="slds-media slds-media_center">
              <div class="slds-media__figure">
                <span class="slds-icon_container slds-icon-standard-user">
                  <lightning-icon
                    icon-name="standard:user"
                    size="small"
                  ></lightning-icon>
                </span>
              </div>
              <div class="slds-media__body">
                <p class="slds-text-heading_small">{userName}</p>
              </div>
            </div>
            <button
              class="slds-button slds-button_brand"
              onclick={handleApprove}
              disabled={isButtonDisabled}
            >
              Approve
            </button>
          </div>
        </template>
        <template if:false={showApproveUI}>
          <div
            class="no-documents-container slds-box slds-theme_alert slds-m-bottom_medium"
          >
            <p>No tasks assigned to you right now.</p>
          </div>
        </template>
        <template if:true={showSuccessMessage}>
          <div class="slds-box slds-theme_success slds-m-bottom_medium">
            <p>Approval granted successfully.</p>
          </div>
        </template>
        <template if:true={showErrorMessage}>
          <div class="slds-box slds-theme_error slds-m-bottom_medium">
            <p>{errorMessage}</p>
          </div>
        </template>
      </div>
    </template>
    <!-- </template> -->
    <!-- <template if:true={hasError}>
            <div class="slds-box slds-theme_error slds-m-bottom_medium">
                <p>Some error occured !!</p>
            </div>
        </template> -->
  </div>
</template>
